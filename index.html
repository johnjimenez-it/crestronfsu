<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSU Classroom Control</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

       body {
   		 font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
   		 background: #782F40 url('https://i.ibb.co/Gfd1jGk9/FSU-background.jpg') center/cover no-repeat fixed;
			height: 100vh;
			display: flex;
			flex-direction: column;
    	overflow: hidden;
}
 /*Nicholas*/
      	        .fullscreen-touch-msg {
            position: absolute;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(120,47,64,0.93);
            color: #fff;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s;
            z-index: 2200;
        }
        .fullscreen-touch-msg.show {
            opacity: 1;
        }
        .fullscreen-mode {
            position: fixed;
            top:0; left:0; width:100vw; height:100vh;
            background: rgba(34,34,34,0.97);
            z-index: 2000;
            display: none;
            cursor: pointer;
            transition: transform 0.5s cubic-bezier(.55,0,.1,1), box-shadow 0.5s cubic-bezier(.55,0,.1,1);
            box-shadow: 0 0 0 0 rgba(120,47,64,0);
            background-size: cover;
            background-position: center;
            overflow: hidden;
        }


        .fullscreen-mode.show {
            display: block;
            transform: scale(1);
            box-shadow: 0 0 0 0 rgba(120,47,64,0);
        }


        .fullscreen-mode.zoomed {
            transform: scale(0.85);
            border-radius: 30px;
            box-shadow: 0 0 60px 0 rgba(120,47,64,0.7);
        }

        .fullscreen-mode.desktop   { background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_p-72rMY56AoHEOV0AjO5qoJphB4Th2mUSA&s') center/cover no-repeat; }
        .fullscreen-mode.laptop    { background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8Urb8rFwF_mA2bM3wdPoyA_gqW5cK2rwLEA&s') center/cover no-repeat; }
        .fullscreen-mode.doccam    { background: url('https://i.ytimg.com/vi/BzjejJyTr8Y/hq720.jpg?sqp=-oaymwE7CK4FEIIDSFryq4qpAy0IARUAAAAAGAElAADIQj0AgKJD8AEB-AH-CYAC0AWKAgwIABABGGUgZShlMA8=&rs=AOn4CLAHR6k_P57rdXjR55YIRVH7fsiJRw') center/cover no-repeat; }
        .fullscreen-mode.wireless  { background: url('https://cdsassets.apple.com/live/7WUAS350/images/macos/sequoia/macos-sequoia-ios-18-iphone-mirroring-window-with-controls.png') center/cover no-repeat; }
        .fullscreen-mode.bluray    { background: url('images/bluray.jpg') center/cover no-repeat; }
        .fullscreen-mode.camera    { background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRagVR4Rd_Sjt3sUaFyFWpqAM9wlZzVnHpyeA&s') center/cover no-repeat; }


        .fullscreen-info {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(34,34,34,0.85);
            color: white;
            border-radius: 15px;
            padding: 24px 36px;
            box-shadow: 0 4px 16px rgba(120,47,64,0.3);
            font-size: 18px;
            font-family: inherit;
            text-align: center;
            opacity: 0.95;
            pointer-events: none;
            transition: opacity 0.25s;
        }


        .fullscreen-mode.zoomed .fullscreen-info {
            pointer-events: auto;
            opacity: 1;
        }


        .fullscreen-close-btn {
            display: none;
            position: absolute;
            top: 22px;
            right: 32px;
            background: rgba(120,47,64,0.95);
            color: white;
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            z-index: 2100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: background 0.2s, transform 0.2s;
        }
        .fullscreen-mode.zoomed .fullscreen-close-btn {
            display: block;
        }
        .fullscreen-close-btn:hover {
            background: #782F40;
            transform: scale(1.15);
        }


        .fullscreen-label {
            font-size: 16px;
            color: #cfd8dc;
            margin-bottom: 6px;
            display: block;
        }
        .fullscreen-title {
            font-size: 28px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }
        .fullscreen-status {
            font-size: 18px;
            color: #ffecb3;
            margin-bottom: 8px;
        }
        .fullscreen-source {
            font-size: 22px;
            color: #c8e6c9;
            margin-bottom: 8px;
            font-weight: 500;
        }
              .fullscreen-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(40, 167, 69, 0.9);
            color: white;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            z-index: 10;
        }

        .fullscreen-btn:hover {
            background: #28a745;
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
        }

        .fullscreen-btn:active {
            transform: scale(0.98);
        }
        .lights-btn.active {
            background: #782F40;
            color: white;
        }

        .lights-btn {
        display: flex;
        flex-direction: column;
        justify-content: center;
        flex: 1;       
        width: 103%;
        height: 20%;    
        padding: 30px ;   
        font-size: 14px;   
        border-radius: 8px;
        border: 1px solid #782F40;
        background: white;
        color: #782F40;
        cursor: pointer;
        transition: all 0.2s;
        }
/*Nicholas*/
        .lights-btn:hover {
        background: #782F40;
        color: white;
        }

        .header {
            background: #572932;
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .fsu-logo {
            height: 40px;
            width: auto;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .time {
            font-size: 16px;
            opacity: 0.9;
        }

        .help-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 14px;
        }

        .help-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .help-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .help-modal.show {
            display: flex;
        }

        .help-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
        }

        .help-content::-webkit-scrollbar {
            width: 8px;
        }

        .help-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .help-content::-webkit-scrollbar-thumb {
            background: #782F40;
            border-radius: 4px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #782F40;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: #5a2330;
            transform: scale(1.1);
        }

        .help-content h2 {
            color: #782F40;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .help-content h3 {
            color: #782F40;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .help-content p {
            color: #333;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .help-content ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .help-content li {
            color: #333;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .help-content strong {
            color: #782F40;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding: 15px;
            overflow: hidden;
        }

        .preview-section {
            background: rgba(0, 0, 0, 0.85);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            flex: 0 0 auto;
            height: 700px;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .preview-label {
            color: white;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
      
         .preview-label.light-controls {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 140px; 
            text-align: center;
        }

        .audio-indicator {
            background: rgba(40, 167, 69, 0.2);
            border: 2px solid #28a745;
            color: #28a745;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .preview-container {
            flex: 1;
            display: flex;
          	align-items: stretch;
          	justify-content: center;
            grid-template-columns: 1fr auto 1fr;
            gap: 10px;
        }

        .preview-screen {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: flex;
          	flex: 1;
            flex-direction: column;
            padding: 15px;
            position: relative;
            overflow: hidden;
        }

        .preview-screen.active {
            border-color: #28a745;
            box-shadow: 0 0 20px rgba(40, 167, 69, 0.3);
        }

        .screen-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .screen-title {
            color: white;
            font-size: 13px;
            font-weight: bold;
        }

        .screen-status {
            color: rgba(255, 255, 255, 0.5);
            font-size: 11px;
        }

        .screen-source {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.3);
            font-size: 14px;
        }

        .control-panel {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            flex: 0 0 auto;
        }

        .control-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .control-section.sources {
            grid-column: span 3;
        }

        .control-section.display {
            grid-column: span 2;
        }

        .control-section.camera {
            grid-column: span 1;
        }

        .control-section.audio {
            grid-column: span 2;
        }

        .control-section.volume {
            grid-column: span 2;
        }

        .control-section.power {
            grid-column: span 1;
        }

        .section-title {
            color: #782F40;
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
        }

        .button-grid.triple {
            grid-template-columns: repeat(3, 1fr);
        }

        .button-grid.single {
            grid-template-columns: 1fr;
        }

        .control-btn {
            background: white;
            border: 2px solid #782F40;
            border-radius: 8px;
            padding: 6px;
            font-size: 9px;
            font-weight: 600;
            color: #782F40;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .control-btn:hover {
            background: #782F40;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(120, 47, 64, 0.3);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .control-btn.active {
            background: #782F40;
            color: white;
        }

        .control-btn.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            pointer-events: none;
        }

        .icon {
            font-size: 18px;
            order: 2;
        }

        .control-btn span:not(.icon) {
            order: 1;
        }

        .display-controls {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .display-group {
            display: flex;
            gap: 6px;
        }

        .display-group .control-btn {
            flex: 1;
        }

        .group-label {
            font-size: 10px;
            font-weight: bold;
            color: #782F40;
            text-align: center;
            margin-bottom: 4px;
        }

        .power-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 12px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .power-btn {
            background: white;
            border: 3px solid #28a745;
            border-radius: 8px;
            padding: 8px;
            font-size: 10px;
            font-weight: bold;
            color: #28a745;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .power-btn:hover {
            background: #28a745;
            color: white;
            transform: scale(1.02);
        }

        .power-btn.off {
            border-color: #dc3545;
            color: #dc3545;
        }

        .power-btn.off:hover {
            background: #dc3545;
            color: white;
        }

        .volume-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 12px;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 6px;
        }

        .mic-control {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 8px;
        }

        .control-label {
            font-size: 9px;
            font-weight: bold;
            color: #782F40;
            margin-bottom: 4px;
        }

        .volume-slider {
            flex: 1;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: #ddd;
            border-radius: 5px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #782F40;
            cursor: pointer;
            border-radius: 50%;
        }

        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #782F40;
            cursor: pointer;
            border-radius: 50%;
            border: none;
        }

        .mute-btn {
            background: #782F40;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 5px 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 9px;
            transition: all 0.2s;
        }

        .mute-btn:hover {
            background: #5a2330;
        }

        .mute-btn.muted {
            background: #dc3545;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
                grid-template-rows: 1fr auto;
            }
            
            .control-panel {
                max-height: 350px;
            }
        }
      
        /* Timer sits in one grid cell, like other white boxes */
        .control-section.timer {
            grid-column: span 1;
            align-self: start;
        }

        /* Small heading for the inline Annotation area */
        .subsection-title {
            margin-top: 8px;
            margin-bottom: 6px;
            font-size: 10px;
            font-weight: 700;
            color: #782F40;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Countdown label, compact */
        .timer-display {
            margin-top: 6px;
            text-align: center;
            font-weight: 700;
            font-size: 13px;
            color: #782F40;
        }

        /* Two buttons side-by-side, tighter spacing */
        .button-grid.compact-two {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
        }

        /* Small control button variant to save space */
        .control-btn.control-sm {
            padding: 6px 8px;
            font-size: 10px;
            line-height: 1.1;
        }

        /* Slightly reduce default control paddings across the board (optional) */
        .control-section {
            padding: 10px;                /* was 12px */
        }
        .button-grid {
            gap: 6px;                     /* was often larger */
        }

        /* Keep canvases on the previews; draw only when enabled */
        .preview-screen { position: relative; }
        .draw-canvas {
            position: absolute; inset: 0; width: 100%; height: 100%;
            pointer-events: none; touch-action: none;
        }
        .draw-enabled .draw-canvas { pointer-events: auto; cursor: crosshair; }

        /* Timer finished flash (kept) */
        @keyframes timer-flash {
            0% { background-color: rgba(255,255,0,0.00); }
            25% { background-color: rgba(255,255,0,0.25); }
            50% { background-color: rgba(255,255,0,0.45); }
            75% { background-color: rgba(255,255,0,0.25); }
            100% { background-color: rgba(255,255,0,0.00); }
        }
        .timer-flash { animation: timer-flash 1s ease-in-out 5; }

      
        /* Ensure the preview is a positioning context */
        .preview-screen {
            position: relative;          /* if not already set */
            overflow: hidden;            /* keeps overlay inside rounded corners */
        }
      
        /* Ensure the preview is a positioning context */
        .preview-screen {
            position: relative;          /* if not already set */
            overflow: hidden;            /* keeps overlay inside rounded corners */
        }

        /* Visual "Frozen" overlay */
        .preview-screen.frozen::after {
            content: 'FROZEN';
            position: absolute;
            inset: 0;                    /* top:0 right:0 bottom:0 left:0 */
            display: grid;
            place-items: center;
            background: rgba(0, 0, 0, 0.35);
            font-size: 1.1rem;
            font-weight: 800;
            letter-spacing: 0.12em;
            color: #fff;
            text-shadow: 0 1px 2px rgba(0,0,0,.6);
            pointer-events: none;        /* don’t block clicks on controls */
        }
      
        /* === Disabled Button Styles === */

        /* General rule for all buttons */
        button:disabled {
            opacity: 0.6;             /* slightly faded */
            cursor: not-allowed;      /* blocked cursor */
            filter: grayscale(40%);   /* tone down icons if present */
            transition: all 0.2s ease;
        }

        /* Projector control buttons */
        .control-btn:disabled {
            background: #ccc;         /* dull background */
            color: #666;              /* muted text */
            border: 1px solid #aaa;
        }

        /* Power buttons specifically */
        #powerOn:disabled {
            background: #28a74580;    /* faded green */
            color: #f0f0f0;
        }

        #powerOff:disabled {
            background: #dc354580;    /* faded red */
            color: #f0f0f0;
        }

				/* Loading Screen preview */      
        .preview-screen .loading-overlay{position:absolute;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.35);backdrop-filter:blur(1px);z-index:2}
        .preview-screen .spinner{width:46px;height:46px;border:4px solid #ffffff88;border-top-color:#fff;border-radius:50%;animation:spin .9s linear infinite}
        .preview-screen.is-loading .loading-overlay{display:flex}
        @keyframes spin{to{transform:rotate(360deg)}}
        @media (prefers-reduced-motion: reduce){.preview-screen .spinner{animation:none}}

        /* Background images for preview screens */
        .preview-screen.desktop   { background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_p-72rMY56AoHEOV0AjO5qoJphB4Th2mUSA&s') center/cover no-repeat; }
        .preview-screen.laptop    { background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8Urb8rFwF_mA2bM3wdPoyA_gqW5cK2rwLEA&s') center/cover no-repeat; }
        .preview-screen.doccam    { background: url('https://i.ytimg.com/vi/BzjejJyTr8Y/hq720.jpg?sqp=-oaymwE7CK4FEIIDSFryq4qpAy0IARUAAAAAGAElAADIQj0AgKJD8AEB-AH-CYAC0AWKAgwIABABGGUgZShlMA8=&rs=AOn4CLAHR6k_P57rdXjR55YIRVH7fsiJRw') center/cover no-repeat; }
        .preview-screen.wireless  { background: url('https://cdsassets.apple.com/live/7WUAS350/images/macos/sequoia/macos-sequoia-ios-18-iphone-mirroring-window-with-controls.png') center/cover no-repeat; }
        .preview-screen.bluray    { background: url('images/bluray.jpg') center/cover no-repeat; }
        .preview-screen.camera    { background: url('images/camera.jpg') center/cover no-repeat; }
     
      img {
      	image-rendering: pixelated;
      }
      
    .header-left {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.fsu-banner {
    height: 80px;
    width: auto;
    max-width: none;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    margin-left: 190px; 
}
  /* ====== ICON COLOR TOGGLE (MAROON ⇄ WHITE) ====== */

/* Ensures all icons transition smoothly */
.control-btn img,
.mute-btn img,
.lights-btn img {
    transition: filter 0.25s ease-in-out;
    filter: brightness(0) saturate(100%) invert(17%) sepia(34%) saturate(1563%) hue-rotate(308deg) brightness(96%) contrast(95%);
    /* converts PNG to maroon tone (#782F40) */
}

/* When button is hovered */
.control-btn:hover img,
.power-btn:hover img,
.mute-btn:hover img,
.lights-btn:hover img {
    filter: brightness(0) invert(1);
    /* makes it pure white */
}

/* When button is active / toggled */
.control-btn.active img,
.power-btn:active img,
.mute-btn.active img,
.lights-btn.active img {
    filter: brightness(0) invert(1);
}

/* For power buttons (on/off), enforce consistent look */
.power-btn img {
    transition: filter 0.25s ease;
}
.power-btn:hover img {
    filter: brightness(0) invert(1);
}

/* Optional: smoother transition on hover */
.control-btn:hover,
.lights-btn:hover,
.power-btn:hover {
    transition: all 0.2s ease, filter 0.2s ease;
}

        /* Tighten the control panel grid spacing a bit */
        .control-panel { gap: 10px; }           /* if it was 12–16px */

        /* Make the preview shorter so controls fit below on typical laptops */
        .preview-section { height: 560px; }     /* was ~700px; adjust as needed */

                /* Sign-in button matches your header style */
        .signin-btn {
            background: rgba(255,255,255,0.1);
            border: 5px solid rgba(255,255,255,0.3);
            color: #fff;
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }
      
        .signin-btn:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.5);

        }

        /* Small QR panel pinned at the very top-left */
        .qr-panel {
            position: fixed;
            top: 10px;
            left: 10px;
            width: 300px;
            background: #fff;
            color: #333;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.35);
            border: 1px solid rgba(0,0,0,0.08);
            display: none;
            z-index: 2000;
        }
        .qr-panel.show { display: block; }

        .qr-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 700;
            font-size: 25px;
            color: #782F40;
            padding: 8px 10px;
            border-bottom: 1px solid rgba(0,0,0,0.06);
        }
        .qr-close {
            background: transparent;
            border: none;
            font-size: 25px;
            line-height: 1;
            color: #782F40;
            cursor: pointer;
        }
        .qr-body {
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .qr-placeholder {
            width: 200px;
            height: 200px;
            border-radius: 6px;
            background:
                linear-gradient(45deg,#ddd 25%,transparent 25%) 0 0/20px 20px,
                linear-gradient(-45deg,#ddd 25%,transparent 25%) 0 0/20px 20px,
                linear-gradient(45deg,transparent 75%,#ddd 75%) 0 0/20px 20px,
                linear-gradient(-45deg,transparent 75%,#ddd 75%) 0 0/20px 20px;
            display: grid;
            place-items: center;
            color: #666;
            font-weight: 700;
            font-size: 24px;
        }

        .qr-image {
            width: 250px;
            height: 250px;
            border-radius: 6px;
            display: block;
        }

		/* Pin the Sign In button to the top-left of the screen, above layout flow */
				#signInBtn.signin-btn {
					position: fixed;
					top: calc(env(safe-area-inset-top, 0px) + 12px);
					left: calc(env(safe-area-inset-left, 0px) + 12px);
					z-index: 1100; /* above header/banner */
					margin: 0;     /* ignore any earlier margins */
				}

  
    </style>
</head>
<body>
    <div class="header">
    <div class="header-left">
        <button class="signin-btn" id="signInBtn" aria-haspopup="dialog" aria-controls="qrPanel">
            Sign in
        </button>
        <img src="https://i.ibb.co/k6ydX1R8/Untitled-design.png" alt="FSU Classroom Control" class="fsu-banner">
    </div>
    <div class="header-right">
        <div class="time" id="currentTime">Oct 5, 2025 12:00 PM</div>
        <button class="help-btn" id="helpBtn">
            <span style="font-size: 20px;">❓</span>
            Help
        </button>
    </div>
</div> 
  
     <div id="qrPanel" class="qr-panel" role="dialog" aria-modal="false" aria-hidden="true">
        <div class="qr-header">
            <span>Scan to sign in</span>
            <button class="qr-close" id="qrCloseBtn" aria-label="Close">×</button>
        </div>
        <div class="qr-body">
            <!-- Placeholder QR square -->
            <img src="https://i.imgur.com/GuT6u5z.png" alt="Sign-in QR Code" class="qr-image">
        </div>
    </div>

    <div class="help-modal" id="helpModal">
        <div class="help-content">
            <button class="close-btn" id="closeBtn">×</button>
            <h2>How to use the Crestron Touch Screen Panels</h2>
            <p>The following information is a detailed explanation of how to use the Crestron touch panel interface in Technology-Enhanced Classrooms.</p>
            
            <h3>Main Control Page</h3>
            <ul>
                <li>From here, you will control the majority of the system.</li>
                <li>The projector's on and off controls are located in the Power Control section.</li>
                <li>The buttons to change input between the Doc Cam, Computer, BLURAY/DVD, Camera, and Laptop are in the Input Sources section.</li>
                <li>To view the selected input in either preview panel, select an input source first.</li>
                <li>To project a preview, select a technology and then the <strong>project</strong> button for the desired screen (left or right).</li>
            </ul>

            <h3>Projector On/Off Confirmation</h3>
            <ul>
                <li>A confirmation prompt displays upon powering the projectors on or off from the main panel.</li>
            </ul>

            <h3>Projector Warmup Screen</h3>
            <ul>
                <li>The screen displays as the projector warms up. No other inputs will be available for this short duration.</li>
            </ul>

            <h3>BLURAY/DVD Control Screen</h3>
            <ul>
                <li>Select the BLURAY input button to access the Blu-ray/DVD player.</li>
                <li>The Blu-ray/DVD player video input automatically appears in the preview panel.</li>
                <li>You will see the standard Blu-ray/DVD player controls.</li>
                <li>If you need other functionality that requires a remote, please request one from the AV department.</li>
            </ul>

            <h3>Camera Control Screen</h3>
            <ul>
                <li>Select the CAMERA input button to access the camera.</li>
                <li>The CAMERA has two preselected settings: <strong>PRESET 1</strong> and <strong>PRESET 2</strong>.</li>
                <li>You may choose to preview or project the camera by selecting the CAMERA input, then selecting a preset, then pressing <strong>PROJECT</strong>.</li>
            </ul>

            <h3>Display Control</h3>
            <ul>
                <li>Use <strong>Preview</strong> to see an input before displaying it.</li>
                <li>Use <strong>Project</strong> to send the input to the left or right projector.</li>
                <li>Use <strong>Blank</strong> to temporarily hide a projector display.</li>
            </ul>

            <h3>Audio Control</h3>
            <ul>
                <li>The system automatically switches audio to match your selected input source.</li>
                <li>Use the volume slider to adjust speaker volume.</li>
                <li>Use the Mute button to quickly silence audio output.</li>
            </ul>
        </div>
    </div>

    <div class="main-content">
        <div class="preview-section">
            <div class="preview-header">
                <div class="preview-label">Display Preview</div>
              <div class="preview-label light-controls">Light Controls</div>
                <div class="audio-indicator">
                    <span>🔊</span>
                    <span id="audioSource">Desktop PC</span>
                </div>
            </div>
            <div class="preview-container">
                <div class="preview-screen" id="leftScreen">
                    <div class="screen-header">
                        <div class="screen-title">Left Projector</div>
                        <div class="screen-status" id="leftStatus">Ready</div>
                    </div>
 
                    <div class="screen-source" id="leftSource">No Input</div>
                  <!--Nicholas-->
                <div>
                    <button class="fullscreen-btn" id="leftFullscreenBtn">
                        <span>⛶</span>
                        Fullscreen
                    </button>
                    </div>
                <div id="fullscreenMode" class="fullscreen-mode" tabindex="-1">
                    <button class="fullscreen-close-btn" id="fullscreenCloseBtn" aria-label="Close Fullscreen Overlay">X</button>
                    <div id="fullscreenTouchMsg" class="fullscreen-touch-msg">This display is not touch compatible</div>
                    <div class="fullscreen-info" id="fullscreenInfo">
                        <span class="fullscreen-label">Projector:</span>
                        <span class="fullscreen-title" id="fullscreenTitle"></span>
                        <span class="fullscreen-label">Status:</span>
                        <span class="fullscreen-status" id="fullscreenStatus"></span>
                        <span class="fullscreen-label">Input:</span>
                        <span class="fullscreen-source" id="fullscreenBody"></span>
                    </div>
                </div>
<!--Nicholas-->

                    <!-- Loading spinner overlay (shown during warm-up) -->         
                    <div class="loading-overlay" aria-hidden="true">
                        <div class="spinner" role="status" aria-label="Warming up…"></div>
                 	  </div>
                </div>
                <div class="lightcontrols">
                    <button class="lights-btn">ALL ON</button>
                    <button class="lights-btn">LECTURE</button>
                    <button class="lights-btn">VIDEO 1</button>
                    <button class="lights-btn">VIDEO 2</button>
                    <button class="lights-btn">ALL OFF</button>
                </div>

                <div class="preview-screen" id="rightScreen">
                    <div class="screen-header">
                        <div class="screen-title">Right Projector</div>
                        <div class="screen-status" id="rightStatus">Ready</div>
                    </div>
                    <div>
                     
                    <button class="fullscreen-btn" id="rightFullscreenBtn">
                        <span>⛶</span>
                        Fullscreen
                    </button>
                    </div>
                    <div class="screen-source" id="rightSource">No Input</div>
                    <!-- Loading spinner overlay (shown during warm-up) -->         
                    <div class="loading-overlay" aria-hidden="true">
                        <div class="spinner" role="status" aria-label="Warming up…"></div>
                 	  </div>
                </div>
            </div>
        </div>

        <div class="control-panel">
            <div class="control-section sources">
                <div class="section-title">Input Sources</div>
                <div class="button-grid triple">
                    <button class="control-btn" data-source="Desktop PC">
                        Desktop PC
                        <span class="icon"><img src="https://i.postimg.cc/tnJY5YnP/desktop-pc.png" alt="desktop_pc" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                    <button class="control-btn" data-source="Laptop">
                        Laptop
                        <span class="icon"><img src="https://i.postimg.cc/dk4hr83j/laptop.png" alt="laptop" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                    <button class="control-btn" data-source="Document Camera">
                        Doc Cam
                        <span class="icon"><img src="https://i.postimg.cc/DJBSLq0Q/doc-cam.png" alt="doc cam" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                    <button class="control-btn" data-source="Wireless Stream">
                        Wireless
                        <span class="icon"><img src="https://i.postimg.cc/CBmRkj5G/wireless.png" alt="wireless" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                    <button class="control-btn" data-source="Blu-ray Player">
                        Blu-ray
                        <span class="icon"><img src="https://i.postimg.cc/BLMjHxbb/bluray.png" alt="bluray" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                    <button class="control-btn" data-source="Camera Feed">
                        Camera
                        <span class="icon"><img src="https://i.postimg.cc/xJtXMK8c/camera.png" alt="camera" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                </div>
            </div>

            <div class="control-section display">
                <div class="section-title">Display Control</div>
                <div class="display-controls">
                    <div>
                        <div class="group-label">Left Screen</div>
                        <div class="display-group">
                            <button class="control-btn" data-action="left-preview">
                                Preview
                                <span class="icon"><span class="icon"><img src="https://i.postimg.cc/Jhxh7QJd/preview.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span>️</span>
                            </button>
                            <button class="control-btn" data-action="left-project">
                                Project
                                <span class="icon"><span class="icon"><img src="https://i.postimg.cc/fRgHGGqk/r-LK736t9-XA.png" alt="freeze" width="30" height="30"></span></span>
                            </button>
                            <button class="control-btn" data-action="left-mute">
                                Hide
                                <span class="icon"><img src="https://i.postimg.cc/ygvDcFxS/hide.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span>
                            </button>
                            <button class="control-btn" data-action="left-freeze">
                                Freeze
                                <span class="icon"><img src="https://i.postimg.cc/Pp2CYmJv/freeze.png" alt="freeze" width="30" height="30"></span>
                            </button>
                        </div>
                    </div>
                    <div>
                        <div class="group-label">Right Screen</div>
                        <div class="display-group">
                            <button class="control-btn" data-action="right-preview">
                                Preview
                                <span class="icon"><span class="icon"><img src="https://i.postimg.cc/Jhxh7QJd/preview.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span>️</span>
                            </button>
                            <button class="control-btn" data-action="right-project">
                                Project
                                <span class="icon"><span class="icon"><img src="https://i.postimg.cc/fRgHGGqk/r-LK736t9-XA.png" alt="freeze" width="30" height="30"></span></span>
                            </button>
                            <button class="control-btn" data-action="right-mute">
                                Hide
                                <span class="icon"><img src="https://i.postimg.cc/ygvDcFxS/hide.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span>
                            </button>
                            <button class="control-btn" data-action="right-freeze">
                                Freeze
                                <span class="icon"><img src="https://i.postimg.cc/Pp2CYmJv/freeze.png" alt="freeze" width="30" height="30"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="control-section camera">
                <div class="section-title">Camera</div>
                <div class="button-grid single">
                    <button class="control-btn" data-action="camera-preset-1">
                        Preset 1 - Podium View
                        <span class="icon"><img src="https://i.postimg.cc/MMdnVyHQ/preset-1.png" alt="preset1" width="30" height="30" style="margin-left: 1px;"></span>
                    </button>
                    <button class="control-btn" data-action="camera-preset-2">
                        Preset 2 - Audience View
                        <span class="icon"><img src="https://i.postimg.cc/vg34fWTb/camera-preset-2.png" alt="preset2" width="30" height="30" style="margin-left: 1px;"></span>
                    </button>
                </div>
            </div>

            <div class="control-section audio">
                <div class="section-title">Audio Source</div>
                <div class="button-grid single">
                    <button class="control-btn active" data-action="listen">
                        <span id="listenToLabel">Listening: Desktop PC</span>
                        <span class="icon"><img src="https://i.postimg.cc/BLMjHxbF/audio-source.png" alt="listening" width="30" height="30"></span>
                    </button>
                </div>
            </div>

            <div class="control-section volume">
                <div class="section-title">Volume Control</div>
                <div>
                    <div class="control-label">Speaker Volume</div>
                    <div class="volume-control">
                        <span style="font-size: 16px;"><span class="icon"><img src="https://i.postimg.cc/N9pKm1FT/volume.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span></span>
                        <input type="range" class="volume-slider" min="0" max="100" value="50" id="volumeSlider">
                        <span id="volumeLevel" style="font-size: 10px; font-weight: bold; color: #782F40; min-width: 32px;">50%</span>
                        <button class="mute-btn" id="muteBtn">Mute</button>
                    </div>
                </div>
                <div style="margin-top: 8px;">
                    <div class="control-label">Microphone Level</div>
                    <div class="mic-control">
                        <span style="font-size: 16px;"><span class="icon"><img src="https://i.postimg.cc/BLMjHxb2/microphone.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span></span>
                        <input type="range" class="volume-slider" min="0" max="100" value="50" id="micSlider">
                        <span id="micLevel" style="font-size: 10px; font-weight: bold; color: #782F40; min-width: 32px;">50%</span>
                        <button class="mute-btn" id="micMuteBtn">Mute</button>
                    </div>
                </div>
            </div>

            <div class="control-section timer">
                <div class="section-title">Timer</div>

                <div class="button-grid single">
                    <button class="control-btn" data-action="timer" id="timerBtn">
                        <span class="icon" aria-hidden="true" style="font-size:18px;line-height:1;">⏱️</span>
                        Start Timer
                    </button>
                </div>

                <div id="timerDisplay" class="timer-display">00:00</div>

                <!-- Annotation lives inside the Timer box -->
                <div class="subsection-title">Annotation</div>
            <div class="button-grid compact-two">
                <button class="control-btn control-sm" data-action="toggle-draw" id="drawToggleBtn">Draw Mode</button>
                <button class="control-btn control-sm" data-action="clear-annotations" id="clearAnnotationsBtn">Clear</button>
            </div>
            </div>
          
            <div class="control-section power">
                <div class="section-title">Projector Controls</div>
                <div class="power-section">
                    <button class="power-btn" id="powerOn">
                        <span class="icon"><img src="https://i.postimg.cc/rD7xp6Ys/power-button-on.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                    <button class="power-btn off" id="powerOff">
                        <span class="icon"><img src="https://i.postimg.cc/75j0LvQH/power-button-off.png" alt="hide" width="30" height="30" style="margin-left: 0px;"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
  
    <script>
        const DEFAULT_AUDIO_SOURCE = 'Desktop PC';

        // State management
        let state = {
            selectedSource: null,
            leftProjector: null,
            rightProjector: null,
            audioSource: DEFAULT_AUDIO_SOURCE,
            volume: 50,
            isMuted: false,
            isPowerOn: false
        };

        /* === Tiny helpers (must be defined before listeners use them) === */
        function setPreviewLoading(screenEl, isLoading) {
            if (!screenEl) return;
            screenEl.classList.toggle('is-loading', isLoading);
            screenEl.setAttribute('aria-busy', isLoading ? 'true' : 'false');
        }

        function disableDisplayControls(disabled) {
            document.querySelectorAll(
                '[data-action="left-preview"],[data-action="left-project"],[data-action="left-mute"],[data-action="left-freeze"],' +
                '[data-action="right-preview"],[data-action="right-project"],[data-action="right-mute"],[data-action="right-freeze"]'
            ).forEach(btn => btn.disabled = disabled);
        }

      
      	//Checks status of power
        function updatePowerUI() {
            const onBtn  = document.getElementById('powerOn');
            const offBtn = document.getElementById('powerOff');

            if (state.isPowerOn) {
                onBtn.disabled  = true;   // can’t press ON again
                offBtn.disabled = false;  // can power OFF
                disableDisplayControls(false); // preview/project/blank enabled
            } else {
                onBtn.disabled  = false;  // can power ON
                offBtn.disabled = true;   // can’t press OFF if already off
                disableDisplayControls(true);  // lock display controls while off
            }
        }

        // Map your source labels -> CSS class names
        const SOURCE_CLASS = {
            'Desktop PC':     'desktop',
            'Laptop':         'laptop',
            'Document Camera':'doccam',
            'Wireless Stream':'wireless',
            'Camera Feed':    'camera'
        };

        // Utility: apply the correct background class to a screen
        function applySourceBg(screenEl, sourceLabel) {
            if (!screenEl) return;
            // remove any previous source classes
            screenEl.classList.remove(...Object.values(SOURCE_CLASS));
            // add new class if we have a mapping
            const cls = SOURCE_CLASS[sourceLabel];
            if (cls) screenEl.classList.add(cls);
        }
      
				const ALL_SOURCE_CLASSES = Object.values(SOURCE_CLASS);

				function wipeScreen(side) {
					const { screen, sourceEl, statusEl } = getSideEls(side);
					screen.classList.remove('active', 'frozen', 'is-loading', ...ALL_SOURCE_CLASSES);
					screen.style.backgroundImage = '';
					sourceEl.textContent = '—';
					statusEl.textContent = 'Powered Off';
				}
      
        function updateAudioSourceLabels(source) {
            document.getElementById('audioSource').textContent = source;
            document.getElementById('listenToLabel').textContent = `Listening: ${source}`;
        }

        //Frozen class helpers
        function setFrozen(screenId, frozen) {
            const el = document.getElementById(screenId);       // 'leftScreen' or 'rightScreen'
            const statusEl = document.getElementById(
                screenId === 'leftScreen' ? 'leftStatus' : 'rightStatus'
            );
            el.classList.toggle('frozen', frozen);
            if (statusEl) statusEl.textContent = frozen ? 'Frozen' : 'Projecting';
        }

        // Update time
        function updateTime() {
            const now = new Date();
            const options = { 
                month: 'short', 
                day: 'numeric', 
                year: 'numeric', 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: true 
            };
            document.getElementById('currentTime').textContent = now.toLocaleString('en-US', options);
        }
        updateTime();
        setInterval(updateTime, 1000);

      
        // Help modal
        const helpBtn = document.getElementById('helpBtn');
        const helpModal = document.getElementById('helpModal');
        const closeBtn = document.getElementById('closeBtn');

        helpBtn.addEventListener('click', function() {
            helpModal.classList.add('show');
        });

        closeBtn.addEventListener('click', function() {
            helpModal.classList.remove('show');
        });

        helpModal.addEventListener('click', function(e) {
            if (e.target === helpModal) {
                helpModal.classList.remove('show');
            }
        });

        // A. Define showConfirmation with onCancel support
        function showConfirmation(message, onConfirm, onCancel) {
            const confirmed = confirm(message);
            if (confirmed) {
                if (onConfirm) onConfirm();
            } else {
                if (onCancel) onCancel();
            }
        }

        // B. Source selection with confirmation + clear screens + reset statuses
        document.querySelectorAll('[data-source]').forEach(btn => {
            btn.addEventListener('click', function() {
                const source   = this.getAttribute('data-source');
                const isActive = this.classList.contains('active');
                const current  = state.selectedSource;

                // Clicking the already-active source => deselect without prompt
                if (isActive) {
                    this.classList.remove('active');
                    state.selectedSource = null;
                    state.audioSource    = DEFAULT_AUDIO_SOURCE;
                    updateAudioSourceLabels(state.audioSource);
                    return;
                }

                // Switching from one source to another => confirm first
                if (current && current !== source) {
                    const ok = confirm(`Switch input from "${current}" to "${source}"?`);
                    if (!ok) return;

                    // Wipe both screens and reset statuses
                    ['left', 'right'].forEach(side => {
                        const screen   = document.getElementById(`${side}Screen` );
                        const sourceEl = document.getElementById(`${side}Source` );
                        const statusEl = document.getElementById(`${side}Status` );

                        screen.classList.remove(
                            'active','frozen','is-loading',
                            'desktop','laptop','doccam','wireless','bluray','camera'
                        );
                        sourceEl.textContent = 'No Input';
                        statusEl.textContent = 'Ready';
                        if (side === 'left')  state.leftProjector  = null;
                        if (side === 'right') state.rightProjector = null;
                    });
                }

                // Select the new source
                state.selectedSource = source;

                // Update source button highlights
                document.querySelectorAll('[data-source]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                // Sync audio source label to selected input
                state.audioSource = source;
                updateAudioSourceLabels(state.audioSource);
            });
        });

        // Preview buttons
        document.querySelector('[data-action="left-preview"]').addEventListener('click', function () {
            if (state.selectedSource && state.isPowerOn) {
                document.getElementById('leftSource').textContent  = `Preview: ${state.selectedSource}`;
                document.getElementById('leftStatus').textContent  = 'Preview';
                applySourceBg(document.getElementById('leftScreen'), state.selectedSource);
            } else if (!state.isPowerOn) {
                alert('Please power on the projectors first.');
            } else {
                alert('Please select an input source first.');
            }
        });

        document.querySelector('[data-action="right-preview"]').addEventListener('click', function () {
            if (state.selectedSource && state.isPowerOn) {
                document.getElementById('rightSource').textContent = `Preview: ${state.selectedSource}`;
                document.getElementById('rightStatus').textContent = 'Preview';
                applySourceBg(document.getElementById('rightScreen'), state.selectedSource);
            } else if (!state.isPowerOn) {
                alert('Please power on the projectors first.');
            } else {
                alert('Please select an input source first.');
            }
        });

        // Project buttons
        document.querySelector('[data-action="left-project"]').addEventListener('click', function () {
            if (state.selectedSource && state.isPowerOn) {
                state.leftProjector = state.selectedSource;
                document.getElementById('leftSource').textContent = state.selectedSource;
                document.getElementById('leftStatus').textContent = 'Projecting';
                const leftScreen = document.getElementById('leftScreen');
                leftScreen.classList.add('active');
                applySourceBg(leftScreen, state.selectedSource);
            } else if (!state.isPowerOn) {
                alert('Please power on the projectors first.');
            } else {
                alert('Please select an input source first.');
            }
        });

        document.querySelector('[data-action="right-project"]').addEventListener('click', function () {
            if (state.selectedSource && state.isPowerOn) {
                state.rightProjector = state.selectedSource;
                document.getElementById('rightSource').textContent = state.selectedSource;
                document.getElementById('rightStatus').textContent = 'Projecting';
                const rightScreen = document.getElementById('rightScreen');
                rightScreen.classList.add('active');
                applySourceBg(rightScreen, state.selectedSource);
            } else if (!state.isPowerOn) {
                alert('Please power on the projectors first.');
            } else {
                alert('Please select an input source first.');
            }
        });
      

				// Blank buttons
        document.querySelector('[data-action="left-mute"]').addEventListener('click', function() {
            const leftScreen = document.getElementById('leftScreen');
            document.getElementById('leftSource').textContent = 'Blanked';
            document.getElementById('leftStatus').textContent = 'Hidden';
            leftScreen.classList.remove('active', 'desktop', 'laptop', 'doccam', 'wireless', 'bluray', 'camera');
        });

        document.querySelector('[data-action="right-mute"]').addEventListener('click', function() {
            const rightScreen = document.getElementById('rightScreen');
            document.getElementById('rightSource').textContent = 'Blanked';
            document.getElementById('rightStatus').textContent = 'Hidden';
            rightScreen.classList.remove('active', 'desktop', 'laptop', 'doccam', 'wireless', 'bluray', 'camera');
        });

        // Freeze toggle for Left Screen
        document.querySelector('[data-action="left-freeze"]')
            ?.addEventListener('click', function () {
                const screen = document.getElementById('leftScreen');
                const status = document.getElementById('leftStatus');

                if (!state.isPowerOn) {
                    alert('Please power on the projectors first.');
                    return;
                }
                if (!state.leftProjector) {
                    alert('Please project something to the left screen first.');
                    return;
                }

                // Toggle frozen class
                const isFrozen = screen.classList.toggle('frozen');
                status.textContent = isFrozen ? 'Frozen' : 'Projecting';

                // Optionally change button label/icon
                this.innerHTML = isFrozen
                    ? 'Unfreeze <span class="icon">❄️</span>'
                    : 'Freeze <span class="icon">❄️</span>';
            });

        // Freeze toggle for Right Screen
        document.querySelector('[data-action="right-freeze"]')
            ?.addEventListener('click', function () {
                const screen = document.getElementById('rightScreen');
                const status = document.getElementById('rightStatus');

                if (!state.isPowerOn) {
                    alert('Please power on the projectors first.');
                    return;
                }
                if (!state.rightProjector) {
                    alert('Please project something to the right screen first.');
                    return;
                }

                // Toggle frozen class
                const isFrozen = screen.classList.toggle('frozen');
                status.textContent = isFrozen ? 'Frozen' : 'Projecting';

                // Optionally change button label/icon
                this.innerHTML = isFrozen
                    ? 'Unfreeze <span class="icon">❄️</span>'
                    : 'Freeze <span class="icon">❄️</span>';
            });

        // Camera presets
        document.querySelector('[data-action="camera-preset-1"]').addEventListener('click', function() {
            if (state.selectedSource === 'Camera Feed') {
                alert('Camera moved to Preset 1 (Podium view)');
            } else {
                alert('Please select Camera input first.');
            }
        });

        document.querySelector('[data-action="camera-preset-2"]').addEventListener('click', function() {
            if (state.selectedSource === 'Camera Feed') {
                alert('Camera moved to Preset 2 (Audience view)');
            } else {
                alert('Please select Camera input first.');
            }
        });

        // Volume control
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeLevel = document.getElementById('volumeLevel');
        const muteBtn = document.getElementById('muteBtn');

        volumeSlider.addEventListener('input', function() {
            state.volume = this.value;
            volumeLevel.textContent = this.value + '%';
            
            if (this.value > 0 && state.isMuted) {
                state.isMuted = false;
                muteBtn.textContent = 'Mute';
                muteBtn.classList.remove('muted');
            }
        });

        muteBtn.addEventListener('click', function() {
            state.isMuted = !state.isMuted;
            
            if (state.isMuted) {
                state.previousVolume = volumeSlider.value;
                volumeSlider.value = 0;
                volumeLevel.textContent = '0%';
                this.textContent = 'Unmute';
                this.classList.add('muted');
            } else {
                volumeSlider.value = state.previousVolume || 50;
                volumeLevel.textContent = volumeSlider.value + '%';
                this.textContent = 'Mute';
                this.classList.remove('muted');
            }
        });

        // Microphone control
        const micSlider = document.getElementById('micSlider');
        const micLevel = document.getElementById('micLevel');
        const micMuteBtn = document.getElementById('micMuteBtn');
        let isMicMuted = false;
        let previousMicLevel = 50;

        micSlider.addEventListener('input', function() {
            micLevel.textContent = this.value + '%';
            
            if (this.value > 0 && isMicMuted) {
                isMicMuted = false;
                micMuteBtn.textContent = 'Mute';
                micMuteBtn.classList.remove('muted');
            }
        });

        micMuteBtn.addEventListener('click', function() {
            isMicMuted = !isMicMuted;
            
            if (isMicMuted) {
                previousMicLevel = micSlider.value;
                micSlider.value = 0;
                micLevel.textContent = '0%';
                this.textContent = 'Unmute';
                this.classList.add('muted');
            } else {
                micSlider.value = previousMicLevel;
                micLevel.textContent = micSlider.value + '%';
                this.textContent = 'Mute';
                this.classList.remove('muted');
            }
        });

    const lightButtons = document.querySelectorAll('.lights-btn');
    lightButtons.forEach(button => {
        button.addEventListener('click', () => {
            lightButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
        });
    });
      
        // ===== Simple Timer Feature (countdown + finish flash) =====
        let timerInterval = null;

        document.querySelector('[data-action="timer"]').addEventListener('click', function () {
            // If timer is already running, stop it
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                document.getElementById('timerDisplay').textContent = '00:00';
                this.textContent = 'Start Timer';
                return;
            }

            // Prompt user for time (seconds or mm:ss)
            const input = prompt('Enter timer (seconds or mm:ss):', '1:30');
            if (!input) return;

            let totalSeconds = 0;
            if (input.includes(':')) {
                const [m, s] = input.split(':');
                const mins = parseInt(m, 10);
                const secs = parseInt(s, 10);
                if (isNaN(mins) || isNaN(secs) || secs >= 60) {
                    alert('Please enter a valid mm:ss (seconds < 60).');
                    return;
                }
                totalSeconds = mins * 60 + secs;
            } else {
                const secs = parseInt(input, 10);
                if (isNaN(secs) || secs <= 0) {
                    alert('Please enter a valid number of seconds.');
                    return;
                }
                totalSeconds = secs;
            }

            const display = document.getElementById('timerDisplay');
            const btn = this;
            btn.textContent = 'Stop Timer';

            function update() {
                const mins = Math.floor(totalSeconds / 60);
                const secs = totalSeconds % 60;
                display.textContent = String(mins).padStart(2, '0') + ':' + String(secs).padStart(2, '0');

                if (totalSeconds <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    btn.textContent = 'Start Timer';
                    document.body.classList.add('timer-flash');
                    setTimeout(() => document.body.classList.remove('timer-flash'), 5000);
                    alert('⏰ Time is up!');
                }
                totalSeconds--;
            }

            update(); // show immediately
            timerInterval = setInterval(update, 1000);
        });
      
        // ===== Annotation / Drawing overlay (mirrored to both screens) =====
        (function () {
            // Create and attach canvases to each preview screen
            const leftScreen  = document.getElementById('leftScreen');
            const rightScreen = document.getElementById('rightScreen');

            const leftCanvas  = document.createElement('canvas');
            const rightCanvas = document.createElement('canvas');
            leftCanvas.className  = 'draw-canvas';
            rightCanvas.className = 'draw-canvas';
            leftScreen.appendChild(leftCanvas);
            rightScreen.appendChild(rightCanvas);

            // Collection helpers
            const canvases = [leftCanvas, rightCanvas];
            const contexts = canvases.map(c => c.getContext('2d'));

            // Draw mode state
            let drawEnabled = false;
            let drawing = false;

            // We track last position in *normalized* coordinates (0..1)
            let lastU = 0, lastV = 0;

            // Stroke style
            const strokeColor = '#ffeb3b';
            const strokeWidth = 3;

            // Size a canvas to its element size (CSS px) and set DPR mapping
            function resizeCanvasToElement(canvas) {
                const rect = canvas.getBoundingClientRect();
                const dpr  = window.devicePixelRatio || 1;
                canvas.width  = Math.max(1, Math.round(rect.width  * dpr));
                canvas.height = Math.max(1, Math.round(rect.height * dpr));
                const ctx = canvas.getContext('2d');
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.strokeStyle = strokeColor;
                ctx.lineWidth = strokeWidth;
            }

            function resizeAll() {
                canvases.forEach(resizeCanvasToElement);
            }

            // Initialize and resize on window change
            resizeAll();
            window.addEventListener('resize', resizeAll);

            // Convert an event on a particular canvas to *normalized* coords (0..1)
            function getNormalizedPos(evt, canvas) {
                const rect = canvas.getBoundingClientRect();
                let cx, cy;
                if (evt.touches && evt.touches[0]) {
                    cx = evt.touches[0].clientX;
                    cy = evt.touches[0].clientY;
                } else {
                    cx = evt.clientX;
                    cy = evt.clientY;
                }
                const x = cx - rect.left;
                const y = cy - rect.top;
                const u = rect.width  > 0 ? x / rect.width  : 0;
                const v = rect.height > 0 ? y / rect.height : 0;
                return { u: Math.min(1, Math.max(0, u)), v: Math.min(1, Math.max(0, v)) };
            }

            // Draw a segment from (u0,v0) -> (u1,v1) across ALL canvases
            function drawSegmentAll(u0, v0, u1, v1) {
                canvases.forEach((canvas, i) => {
                    const ctx  = contexts[i];
                    const rect = canvas.getBoundingClientRect();
                    const x0 = u0 * rect.width;
                    const y0 = v0 * rect.height;
                    const x1 = u1 * rect.width;
                    const y1 = v1 * rect.height;
                    ctx.beginPath();
                    ctx.moveTo(x0, y0);
                    ctx.lineTo(x1, y1);
                    ctx.stroke();
                });
            }

            // Pointer handlers bound to *each* canvas, but draw to both
            function attachHandlers(canvas) {
                function start(evt) {
                    if (!drawEnabled) return;
                    drawing = true;
                    const p = getNormalizedPos(evt, canvas);
                    lastU = p.u;
                    lastV = p.v;
                }
                function move(evt) {
                    if (!drawing || !drawEnabled) return;
                    const p = getNormalizedPos(evt, canvas);
                    drawSegmentAll(lastU, lastV, p.u, p.v);
                    lastU = p.u;
                    lastV = p.v;
                }
                function end() {
                    drawing = false;
                }

                // Mouse
                canvas.addEventListener('mousedown', start);
                canvas.addEventListener('mousemove', move);
                window.addEventListener('mouseup', end);

                // Touch
                canvas.addEventListener('touchstart', (e) => { start(e); e.preventDefault(); }, { passive: false });
                canvas.addEventListener('touchmove',  (e) => { move(e);  e.preventDefault(); }, { passive: false });
                window.addEventListener('touchend', end);
                window.addEventListener('touchcancel', end);
            }

            canvases.forEach(attachHandlers);

            // Toggle Draw Mode
            const drawToggleBtn = document.getElementById('drawToggleBtn');
            drawToggleBtn.addEventListener('click', function () {
                drawEnabled = !drawEnabled;
                document.body.classList.toggle('draw-enabled', drawEnabled);
                this.classList.toggle('active', drawEnabled);
                this.textContent = drawEnabled ? 'Disable Draw Mode' : 'Draw Mode';
            });

            // Clear all annotations (both canvases) — full wipe despite DPR transform
            const clearBtn = document.getElementById('clearAnnotationsBtn');
            clearBtn.addEventListener('click', function () {
                canvases.forEach((c, i) => {
                    const ctx = contexts[i];
                    ctx.save();                       // save current (DPR-scaled) state
                    ctx.setTransform(1, 0, 0, 1, 0, 0); // reset to identity
                    ctx.clearRect(0, 0, c.width, c.height); // clear full pixel buffer
                    ctx.restore();                    // restore DPR transform + styles
                });
            });
        })();

        // POWER ON
        document.getElementById('powerOn').addEventListener('click', function () {
            if (state.isPowerOn) return;      // already ON -> ignore
            // optimistically disable ON to prevent double-click spamming
            this.disabled = true;

            showConfirmation('Turn ON projectors?', () => {
                const leftScreen  = document.getElementById('leftScreen');
                const rightScreen = document.getElementById('rightScreen');
                const leftStatus  = document.getElementById('leftStatus');
                const rightStatus = document.getElementById('rightStatus');

                // warming up phase
                setPreviewLoading(leftScreen,  true);
                setPreviewLoading(rightScreen, true);
                leftStatus.textContent  = 'Warming up…';
                rightStatus.textContent = 'Warming up…';
                disableDisplayControls(true);

                setTimeout(() => {
                    state.isPowerOn = true;       // now ON
                    setPreviewLoading(leftScreen,  false);
                    setPreviewLoading(rightScreen, false);
                    leftStatus.textContent  = 'Ready';
                    rightStatus.textContent = 'Ready';
                    updatePowerUI();              // lock/unlock buttons accordingly
                }, 3000);
            }, () => {
                // user canceled -> restore previous enabled state
                updatePowerUI();
            });
        });

		// POWER OFF
		document.getElementById('powerOff').addEventListener('click', function () {
			if (!state.isPowerOn) return; // already OFF -> ignore

			showConfirmation('Turn OFF projectors?', () => {
				state.isPowerOn = false;

				// collect all source classes (e.g., desktop, laptop, doccam, wireless, bluray, camera)
				const sourceClasses = Object.values(SOURCE_CLASS);

				// LEFT screen: clear classes, inline bg, labels
				const leftScreen  = document.getElementById('leftScreen');
				const leftSource  = document.getElementById('leftSource');
				const leftStatus  = document.getElementById('leftStatus');
				leftScreen.classList.remove('active', 'is-loading', 'frozen', ...sourceClasses);
				leftScreen.style.backgroundImage = '';
				leftSource.textContent = 'No Input';
				leftStatus.textContent = 'Off';

				// RIGHT screen: clear classes, inline bg, labels
				const rightScreen = document.getElementById('rightScreen');
				const rightSource = document.getElementById('rightSource');
				const rightStatus = document.getElementById('rightStatus');
				rightScreen.classList.remove('active', 'is-loading', 'frozen', ...sourceClasses);
				rightScreen.style.backgroundImage = '';
				rightSource.textContent = 'No Input';
				rightStatus.textContent = 'Off';

				// clear tracked projecting state and selection
				state.leftProjector  = null;
				state.rightProjector = null;
				state.selectedSource = null;

				// lock UI per powered-off state
				updatePowerUI();
			});
		});
      
        // ===== Sign-in QR toggle =====
        (function () {
            const btn  = document.getElementById('signInBtn');
            const panel = document.getElementById('qrPanel');
            const close = document.getElementById('qrCloseBtn');

            function show() {
                panel.classList.add('show');
                panel.setAttribute('aria-hidden','false');
            }
            function hide() {
                panel.classList.remove('show');
                panel.setAttribute('aria-hidden','true');
            }

            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                const visible = panel.classList.contains('show');
                if (visible) hide(); else show();
            });

            close.addEventListener('click', (e) => {
                e.stopPropagation();
                hide();
            });

            // Click outside hides
            document.addEventListener('click', (e) => {
                if (!panel.classList.contains('show')) return;
                if (!panel.contains(e.target) && e.target !== btn) hide();
            });

            // Esc hides
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && panel.classList.contains('show')) hide();
            });
        })();
      
      //Nicholas 
const fullscreenMode = document.getElementById('fullscreenMode');
const fullscreenTitle = document.getElementById('fullscreenTitle');
const fullscreenStatus = document.getElementById('fullscreenStatus');
const fullscreenBody = document.getElementById('fullscreenBody');
const fullscreenInfo = document.getElementById('fullscreenInfo');
const fullscreenCloseBtn = document.getElementById('fullscreenCloseBtn');

let zoomOutTimer = null;
let isZoomed = false;


function updateFullscreenInfo(title, status, source) {
    fullscreenTitle.textContent = title;
    fullscreenStatus.textContent = status;
    fullscreenBody.textContent = source;
}

function showFullscreen(side) {
    const screen = side === 'left' ? document.getElementById('leftScreen') : document.getElementById('rightScreen');
    const sourceText = side === 'left' ? document.getElementById('leftSource').textContent : document.getElementById('rightSource').textContent;
    const statusText = side === 'left' ? document.getElementById('leftStatus').textContent : document.getElementById('rightStatus').textContent;
    const title = side === 'left' ? 'Left Projector' : 'Right Projector';
    
    const fullscreenTouchMsg = document.getElementById('fullscreenTouchMsg');
let touchMsgTimer = null;

    fullscreenTouchMsg.classList.add('show');
    if (touchMsgTimer) {
        clearTimeout(touchMsgTimer);
    }
    touchMsgTimer = setTimeout(() => {
        fullscreenTouchMsg.classList.remove('show');
    }, 3000);
    fullscreenMode.className = 'fullscreen-mode show';
    const sourceClasses = Array.from(screen.classList).filter(cls =>
        ['desktop', 'laptop', 'doccam', 'wireless', 'bluray', 'camera'].includes(cls)
    );


    fullscreenMode.classList.add(...sourceClasses);
    updateFullscreenInfo(title, statusText, sourceText);
    fullscreenMode.classList.remove('zoomed');
    isZoomed = false;
    fullscreenInfo.style.opacity = '0';
    if (zoomOutTimer) {
        clearTimeout(zoomOutTimer);
        zoomOutTimer = null;
    }
}
fullscreenMode.addEventListener('click', function(e) {
    if (e.target === fullscreenCloseBtn) return;

    if (!isZoomed) {
        fullscreenMode.classList.add('zoomed');
        isZoomed = true;
        fullscreenInfo.style.opacity = '1';

        zoomOutTimer = setTimeout(() => {
            fullscreenMode.classList.remove('zoomed');
            isZoomed = false;
            fullscreenInfo.style.opacity = '0';
        }, 5000);
    } else {
 
        fullscreenMode.classList.remove('zoomed');
        isZoomed = false;
        fullscreenInfo.style.opacity = '0';

        if (zoomOutTimer) {
            clearTimeout(zoomOutTimer);
            zoomOutTimer = null;
        }
    }
});

    fullscreenCloseBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        fullscreenMode.classList.remove('show', 'zoomed');
        isZoomed = false;
        fullscreenInfo.style.opacity = '0';
        if (zoomOutTimer) {
            clearTimeout(zoomOutTimer);
            zoomOutTimer = null;
        }
    });

    fullscreenInfo.addEventListener('click', function(e) {
        e.stopPropagation();
    });

    document.getElementById('leftFullscreenBtn').addEventListener('click', function(e) {
        e.stopPropagation();
        showFullscreen('left');
    });
    document.getElementById('rightFullscreenBtn').addEventListener('click', function(e) {
        e.stopPropagation();
        showFullscreen('right');
    });
      
     updatePowerUI();

      
//Nicholas 
    </script>
</body>
</html>
                              
                              
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSU Classroom Control</title>
    <style>
        * {
            margi				;
            padding: 0;
            box-sizing: border-box;
        }

       body {
   		 font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
   		 background: #782F40 url('https://i.ibb.co/Gfd1jGk9/FSU-background.jpg') center/cover no-repeat fixed;
			height: 100vh;
			display: flex;
			flex-direction: column;
    	overflow: hidden;
}
      
        .lights-btn.active {
            background: #782F40;
            color: white;
        }

        .lights-btn {
        display: flex;
        flex-direction: column;
        justify-content: center;
        flex: 1;       
        width: 103%;
        height: 20%;    
        padding: 30px ;   
        font-size: 14px;   
        border-radius: 8px;
        border: 1px solid #782F40;
        background: white;
        color: #782F40;
        cursor: pointer;
        transition: all 0.2s;
        }

        .lights-btn:hover {
        background: #782F40;
        color: white;
        }

        .header {
            background: #572932;
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .fsu-logo {
            height: 40px;
            width: auto;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .time {
            font-size: 16px;
            opacity: 0.9;
        }

        .help-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 14px;
        }

        .help-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .help-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .help-modal.show {
            display: flex;
        }

        .help-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
        }

        .help-content::-webkit-scrollbar {
            width: 8px;
        }

        .help-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .help-content::-webkit-scrollbar-thumb {
            background: #782F40;
            border-radius: 4px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #782F40;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: #5a2330;
            transform: scale(1.1);
        }

        .help-content h2 {
            color: #782F40;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .help-content h3 {
            color: #782F40;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .help-content p {
            color: #333;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .help-content ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .help-content li {
            color: #333;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .help-content strong {
            color: #782F40;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding: 15px;
            overflow: hidden;
        }

        .preview-section {
            background: rgba(0, 0, 0, 0.85);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            flex: 0 0 auto;
            height: 700px;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .preview-label {
            color: white;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .audio-indicator {
            background: rgba(40, 167, 69, 0.2);
            border: 2px solid #28a745;
            color: #28a745;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .preview-container {
            flex: 1;
            display: flex;
          	align-items: stretch;
          	justify-content: center;
            grid-template-columns: 1fr auto 1fr;
            gap: 10px;
        }

        .preview-screen {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: flex;
          	flex: 1;
            flex-direction: column;
            padding: 15px;
            position: relative;
            overflow: hidden;
        }

        .preview-screen.active {
            border-color: #28a745;
            box-shadow: 0 0 20px rgba(40, 167, 69, 0.3);
        }

        .screen-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .screen-title {
            color: white;
            font-size: 13px;
            font-weight: bold;
        }

        .screen-status {
            color: rgba(255, 255, 255, 0.5);
            font-size: 11px;
        }

        .screen-source {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.3);
            font-size: 14px;
        }

        .control-panel {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            flex: 0 0 auto;
        }

        .control-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .control-section.sources {
            grid-column: span 3;
        }

        .control-section.display {
            grid-column: span 2;
        }

        .control-section.camera {
            grid-column: span 1;
        }

        .control-section.audio {
            grid-column: span 2;
        }

        .control-section.volume {
            grid-column: span 2;
        }

        .control-section.power {
            grid-column: span 1;
        }

        .section-title {
            color: #782F40;
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
        }

        .button-grid.triple {
            grid-template-columns: repeat(3, 1fr);
        }

        .button-grid.single {
            grid-template-columns: 1fr;
        }

        .control-btn {
            background: white;
            border: 2px solid #782F40;
            border-radius: 8px;
            padding: 6px;
            font-size: 9px;
            font-weight: 600;
            color: #782F40;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            display: flex;
          flex-direction: column;
      }
            align-it
